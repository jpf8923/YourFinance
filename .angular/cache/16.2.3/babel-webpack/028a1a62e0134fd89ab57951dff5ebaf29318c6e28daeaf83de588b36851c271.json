{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../get-account-info.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/common/http\";\nfunction DisplayPurchasesComponent_li_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function DisplayPurchasesComponent_li_3_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.getTransactions());\n    });\n    i0.ɵɵtext(2, \"Get Transactions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 3);\n    i0.ɵɵtext(6, \"Sample GET\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 4);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.transactionData);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate3(\"\", p_r1.transaction_id, \" - \", p_r1.account_id, \" - \", p_r1.transaction_amount, \" \");\n  }\n}\nexport class DisplayPurchasesComponent {\n  ngOnInit() {\n    this.getPurchaseData();\n  }\n  constructor(getter, location, http) {\n    this.getter = getter;\n    this.location = location;\n    this.http = http;\n  }\n  getPurchaseData() {\n    this.getter.getData().subscribe(accData => {\n      this.pList = accData.transactionHistory;\n      this.pList.push({\n        \"transaction_id\": 1,\n        \"account_id\": \"A\",\n        \"transaction_date\": \"Date.now()\",\n        \"transaction_type\": \"Credit_card\",\n        \"transaction_amount\": 123\n      }, {\n        \"transaction_id\": 2,\n        \"account_id\": \"A\",\n        \"transaction_date\": \"Date.now()\",\n        \"transaction_type\": \"Credit_card\",\n        \"transaction_amount\": 123\n      }, {\n        \"transaction_id\": 3,\n        \"account_id\": \"A\",\n        \"transaction_date\": \"Date.now()\",\n        \"transaction_type\": \"Credit_card\",\n        \"transaction_amount\": 123\n      }, {\n        \"transaction_id\": 4,\n        \"account_id\": \"A\",\n        \"transaction_date\": \"Date.now()\",\n        \"transaction_type\": \"Credit_card\",\n        \"transaction_amount\": 123\n      });\n    });\n  }\n  getTransactions() {\n    const url = 'http://127.0.0.1:5000/transactions/A00351';\n    this.http.get(url).subscribe(data => {\n      console.log(url);\n      this.transactionData = data;\n      console.log(data); // Print the data to the console\n    }, error => {\n      console.error('Error fetching data:', error);\n    });\n  }\n  //Go back\n  goBack() {\n    this.location.back();\n  }\n}\n_class = DisplayPurchasesComponent;\n_class.ɵfac = function DisplayPurchasesComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.GetAccountInfoService), i0.ɵɵdirectiveInject(i2.Location), i0.ɵɵdirectiveInject(i3.HttpClient));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-display-purchases\"]],\n  decls: 4,\n  vars: 1,\n  consts: [[1, \"transactions\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [\"id\", \"samplegetbtn\", \"ng-click\", \"updateModel('GET', 'http-hello.html')\"], [1, \"badge\"]],\n  template: function DisplayPurchasesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"My Transactions\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"ul\", 0);\n      i0.ɵɵtemplate(3, DisplayPurchasesComponent_li_3_Template, 9, 4, \"li\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.pList);\n    }\n  },\n  dependencies: [i2.NgForOf],\n  styles: [\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGlzcGxheS1wdXJjaGFzZXMvZGlzcGxheS1wdXJjaGFzZXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FpRUciLCJzb3VyY2VzQ29udGVudCI6WyIvKiBIZXJvZXNDb21wb25lbnQncyBwcml2YXRlIENTUyBzdHlsZXNcbi5wTGlzdCB7XG4gIG1hcmdpbjogMCAwIDJlbSAwO1xuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG4gIHBhZGRpbmc6IDA7XG4gIHdpZHRoOiAxNWVtO1xufVxuXG4ucExpc3QgbGkge1xuICBkaXNwbGF5OiBmbGV4O1xufVxuXG4ucExpc3QgYnV0dG9uIHtcbiAgZmxleDogMTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGxlZnQ6IDA7XG4gIGJhY2tncm91bmQtY29sb3I6ICNFRUU7XG4gIG1hcmdpbjogLjVlbTtcbiAgcGFkZGluZzogMDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogc3RyZXRjaDtcbiAgaGVpZ2h0OiAxLjhlbTtcbn1cblxuLnBMaXN0IGJ1dHRvbjpob3ZlciB7XG4gIGNvbG9yOiAjMmMzYTQxO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZlNmU2O1xuICBsZWZ0OiAuMWVtO1xufVxuXG4ucExpc3QgYnV0dG9uOmFjdGl2ZSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM1MjUyNTI7XG4gIGNvbG9yOiAjZmFmYWZhO1xufVxuXG4ucExpc3QgYnV0dG9uLnNlbGVjdGVkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLnBMaXN0IGJ1dHRvbi5zZWxlY3RlZDpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM1MDUwNTA7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLnBMaXN0IGJ1dHRvbi5zZWxlY3RlZDphY3RpdmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4ucExpc3QgLmJhZGdlIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBmb250LXNpemU6IHNtYWxsO1xuICBjb2xvcjogd2hpdGU7XG4gIHBhZGRpbmc6IDAuOGVtIDAuN2VtIDAgMC43ZW07XG4gIGJhY2tncm91bmQtY29sb3I6ICM0MDUwNjE7XG4gIGxpbmUtaGVpZ2h0OiAxZW07XG4gIG1hcmdpbi1yaWdodDogLjhlbTtcbiAgYm9yZGVyLXJhZGl1czogNHB4IDAgMCA0cHg7XG59XG5cbi5wTGlzdCAubmFtZSB7XG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcbn0gKi8iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","DisplayPurchasesComponent_li_3_Template_button_click_1_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","getTransactions","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","transactionData","ɵɵtextInterpolate3","p_r1","transaction_id","account_id","transaction_amount","DisplayPurchasesComponent","ngOnInit","getPurchaseData","constructor","getter","location","http","getData","subscribe","accData","pList","transactionHistory","push","url","get","data","console","log","error","goBack","back","ɵɵdirectiveInject","i1","GetAccountInfoService","i2","Location","i3","HttpClient","selectors","decls","vars","consts","template","DisplayPurchasesComponent_Template","rf","ctx","ɵɵtemplate","DisplayPurchasesComponent_li_3_Template","ɵɵproperty"],"sources":["/Users/emmet/hackathon/YourFinance/src/app/display-purchases/display-purchases.component.ts","/Users/emmet/hackathon/YourFinance/src/app/display-purchases/display-purchases.component.html"],"sourcesContent":["//Display list of purchases\nimport { Component } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { GetAccountInfoService } from '../get-account-info.service';\nimport { Transaction } from '../Transaction';\nimport { ReadVarExpr } from '@angular/compiler';\n\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-display-purchases',\n  templateUrl: './display-purchases.component.html',\n  styleUrls: ['./display-purchases.component.css']\n})\nexport class DisplayPurchasesComponent {\n  pList?: Transaction[];\n\n  transactionData: any;\n\n\n\n\n  ngOnInit(){\n    this.getPurchaseData();\n  }\n\n\n  constructor(private getter:GetAccountInfoService,   private location: Location, private http: HttpClient){}\n\n  getPurchaseData(){\n\n    this.getter.getData().subscribe( (accData) => {\n      this.pList = accData.transactionHistory\n      this.pList.push(\n        {\"transaction_id\": 1, \n        \"account_id\": \"A\", \n        \"transaction_date\": \"Date.now()\", \n        \"transaction_type\": \"Credit_card\", \n        \"transaction_amount\": 123, },\n        {\"transaction_id\": 2, \n        \"account_id\": \"A\", \n        \"transaction_date\": \"Date.now()\", \n        \"transaction_type\": \"Credit_card\", \n        \"transaction_amount\": 123, },\n        {\"transaction_id\": 3, \n        \"account_id\": \"A\", \n        \"transaction_date\": \"Date.now()\", \n        \"transaction_type\": \"Credit_card\", \n        \"transaction_amount\": 123, },\n        {\"transaction_id\": 4, \n        \"account_id\": \"A\", \n        \"transaction_date\": \"Date.now()\", \n        \"transaction_type\": \"Credit_card\", \n        \"transaction_amount\": 123, \n      }\n        )\n  \n    } );\n  }\n\n\n\n  getTransactions() {\n    const url = 'http://127.0.0.1:5000/transactions/A00351';\n\n    this.http.get(url).subscribe(\n      (data: any) => {\n        console.log(url)\n        this.transactionData = data;\n        console.log(data); // Print the data to the console\n      },\n      (error) => {\n        console.error('Error fetching data:', error);\n      }\n    );\n  }\n\n  //Go back\n  goBack(): void {\n    this.location.back();\n  }\n}\n","<h2>My Transactions</h2>\n<ul class=\"transactions\">\n  <li *ngFor=\"let p of pList\">\n    <button (click)=\"getTransactions()\">Get Transactions</button>\n    <div>{{ transactionData }}</div>\n      <button id=\"samplegetbtn\" ng-click=\"updateModel('GET', 'http-hello.html')\">Sample GET</button>\n    <span class=\"badge\">{{p.transaction_id}} - {{p.account_id}} - {{p.transaction_amount}} </span>\n  </li>\n</ul>\n\n<!--<button type=\"button\" (click)=\"goBack()\">go back</button>-->"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}